# G-POSREVO 코드 가이드

G-POSREVO(이하 '포스레보')는 최종 결과물 제작을 위해서는 여러 마이스터 간의 협업이 꼭 필요합니다. 효율적이고 오해 없는 협업을 위해, 또한 후기 대회를 위한 참고자료가 되기 위해 코드 가이드를 만듭니다.

## Git

포스레보와 관련된 모든 코드는 깃 저장소에 저장되어야 하며, 특히 이 조직(organization) 아래에 저장됩니다.

### 저장소명

각 메이커 팀명을 저장소 이름으로 삼아 각각의 저장소를 만듭니다. 제 3회 포스레보 기준으로는 다음과 같습니다.

*팀명(저장소이름)*

- ALEX(alex)
- G-POS 작렬(pos-explosion)
- Xnfp(xnfp)
- aNaBOLiC(anabolic)
- Toomanyeggs(toomanyeggs)
- creative(creative)
- 인벤터(inventor)

### 커밋

모든 수정사항은 커밋되어야 합니다.

### 풀&푸시 (Pull & Push)

남의 코드 확인이 필요한 경우, 또는 그 날의 작업이 끝난 경우 **무조건** 커밋 후에는 풀&푸시를 해야합니다. 만일 풀 중에 머지 컨플릭트가 발생하면, 컨플릭트가 발생한 이전의 커밋 작성자와 **마이스터 단톡방**에서 조율 후 커밋&푸시합니다.

## 프로젝트 구조

상위 디렉터리(프로젝트 루트)는 다음 디렉터리로 이루어집니다.

- README.md
- sketch/
- 그 외

### README.md

메이커 팀명, 제품 간략 소개, 사용하는 센서 또는 모듈, 기술적인 제품의 구조, 사용하는 언어 등을 기술합니다.

만일 설치해야 하는 아두이노 라이브러리가 있다면, 이름 또는 다운로드 링크를 첨부합니다.

### sketch/

메인 아두이노 코드가 저장되는 디렉터리입니다. `sketch.ino`로 아두이노 코드를 저장합니다. 만약 아두이노 코드가 여러 파일이 필요하다면, 프로젝트 루트에 `sketch_sensor_test/` 식의 다른 디렉터리를 생성합니다. 

### 그 외

만일, 아두이노와 통신하기 위한 서버 등의 아두이노 외에서 실행되는 코드가 있을 경우, 기능 단위로 쪼개서 프로젝트 루트에 디렉터리를 생성합니다. 해당 디렉터리 안의 구조는 해당 언어 또는 프레임워크의 프로젝트 구조를 따릅니다.

## 아두이노 코딩 스타일

### 주석을 다세요!

기술국장과 마이스터 모두 개발 초보자이기 때문에, 의도를 명확히 드러내는 코드를 작성하기가 어렵습니다. 또한 외부 소스를 그대로 복사해 사용하는 경우도 많아**주석으로 의도를 명확히 표현해야 합니다.**

*코드 첫번째 줄*에는 메이커 팀 명, 코드의 용도를 적습니다.

*함수* 위에 함수의 역할을 적습니다. 만약 인자 또는 반환값이 있다면 설명합니다.

*변수 선언*에는 이 변수가 사용되는 곳, 그리고 값에 대해 설명합니다. (왜 `'0'` 또는 `0x01`인지 등)

*블럭(중괄호 안)* 위에 이 블럭의 의도, 이 안에서 이뤄지는 일을 설명합니다. 만약 반복문일 경우, 반복문의 의도를 설명합니다.

**또한, 코드를 수정할 때마다 코드에 관련된 주석도 수정해야 합니다.**

### 값에는 변수를 선언하세요.

```c
pinMode(8, OUTPUT);
```

이 때, `8`은 무엇일까요? 디지털 핀 번호 같은데, 무슨 센서를 위한 핀일까요? 알기 어렵습니다. 의미가 있는 값들은 변수(또는 상수)로 선언되어야 합니다.

```c
const int switchPin = 8;

void setup() {
	pinMode(switchPin, OUTPUT);
}
```

이제 알기 쉽습니다. 

### 변수와 함수에 의미 있는 이름을 지어주세요.

`a` 또는 `bbb` 등 쓰임새를 알기 어려운 이름보다, `buttonState`, `bluetoothPin`, `bluetoothInput` 등 용도가 드러나는 이름을 지어주세요. 타이핑에 드는 시간은 나중에 코드를 여러번 읽어 변수의 사용범위를 찾아내는 것보다 짧습니다.

### setup()과 loop()를 되도록 위에 배치하세요.

`setup()`과 `loop()`는 전역 변수 선언 바로 다음에 있어야 합니다. 그 외의 함수는 `loop()` 아래 있어도 실행 가능합니다.

### 함수 각각은 되도록이면 짧게 유지하세요.

글의 호흡이 길어지면 읽기 어려운 것처럼, 코드도 길어지면 이해하기 어려워집니다. 함수를 기능 단위로 쪼개세요.

### `#define`을 지양하세요.

`const`를 사용하세요.

